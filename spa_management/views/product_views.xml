<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="product_template_form_view_inherit_in_spa" model="ir.ui.view">
        <field name="name">product.template.common.form.inherit.in.spa</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='description']/.." position="before">
                <group string="Spa Management" attrs="{'invisible': [('type', '!=', 'service')]}">
                    <group>
                        <label for="duration_hrs" string="Duration" />
                        <div>
                            <field name="duration_hrs" class="oe_inline"
                                attrs="{'required': [('type','=','service')]}" />
                            <span class="oe_inline"> Hrs </span>
                            <field name="duration_min" class="oe_inline"
                                attrs="{'required': [('type','=','service')]}" />
                            <span class="oe_inline"> Mins </span>
                        </div>
                    </group>
                    <group attrs="{'invisible': [('type', '!=', 'service')]}">
                        <field name="employee_ids" widget="many2many_tags" domain="[('is_beautician', '=', True)]" />
                    </group>
                    <group></group>

                    <group>
                        <field name="branch_ids" widget="many2many_tags"
                            required="1" />
                    </group>
                </group>
            </xpath>
        </field>
    </record>


    <menuitem id="spa_product_menu" name="Products" parent="spa_config_menu" sequence="40"
        action="stock.product_template_action_product" />

       <!-- Spa Management Services  -->
   <record id="spa_services_action" model="ir.actions.act_window">
        <field name="name">Services</field>
        <field name="res_model">product.template</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'default_detailed_type':'service'}</field>
        <field name="domain">[('sale_ok', '=', True), ('detailed_type', '=', 'service')]</field>
    </record>
    <record id="spa_services_kanban" model="ir.actions.act_window.view">
        <field name="sequence" eval="1" />
        <field name="view_mode">kanban</field>
        <field name="view_id" ref="product.product_template_kanban_view" />
        <field name="act_window_id" ref="spa_services_action" />
    </record>
    <record id="spa_services_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="2" />
        <field name="view_mode">tree</field>
        <field name="view_id" ref="product.product_template_tree_view" />
        <field name="act_window_id" ref="spa_services_action" />
    </record>

    <record id="spa_services_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="3" />
        <field name="view_mode">form</field>
        <field name="view_id" ref="product.product_template_only_form_view" />
        <field name="act_window_id" ref="spa_services_action" />
    </record>


    <menuitem id="spa_services_menu" name="Services" parent="spa_config_menu" sequence="30"
        action="spa_management.spa_services_action" />


</odoo>
