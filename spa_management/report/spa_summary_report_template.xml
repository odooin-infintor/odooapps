<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <template id="summary_report_template">
        <style>
            table {
                border-collapse: collapse;
                border-bottom: 1px solid black;
            }

            th {
                border-bottom: 1px solid black;
                background-color: #b3b3b3;
                height: 10px;
            }
        </style>

        <div class="page">
            <h2 style="text-align: center;">Summary Report</h2>
            <p style="text-align: center;">
                <span t-esc="date_range" /> <br />
                Branch: <span t-esc="branch" />
            </p>
            <h3>Sales Summary</h3>
            <table style="width: 50%;">
                <colgroup>
                    <col width="60%" />
                    <col width="40%" />
                </colgroup>
                <thead>
                    <tr>
                        <th style="text-align: right;">Item</th>
                        <th style="text-align: right;">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="sales_summary" t-as="line">
                        <td style="text-align: right;"><span t-esc="line['item']" /></td>
                        <td style="text-align: right;"><span t-esc="line['total']" /></td>
                    </tr>
                    <tr>
                        <td style="text-align: right; border-top: 1px solid black;">Sales Total:</td>
                        <td style="text-align: right; border-top: 1px solid black;">
                            <span t-esc="sales_summary_total" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">&amp;nbsp;</td>
                    </tr>
                    <tr t-foreach="summary" t-as="line">
                        <td style="text-align: right;"><span t-esc="line['item']" /></td>
                        <td style="text-align: right;"><span t-esc="line['total']" /></td>
                    </tr>
                    <tr>
                        <td style="text-align: right; border-top: 1px solid black;">Total:</td>
                        <td style="text-align: right; border-top: 1px solid black;">
                            <span t-esc="summary_total" />
                        </td>
                    </tr>
                </tbody>
            </table>

            <br />
            <h3>Payments</h3>
            <table style="width: 100%;">
                <colgroup>
                    <col width="40%" />
                    <col width="20%" />
                    <col width="20%" />
                    <col width="20%" />
                </colgroup>
                <thead>
                    <tr>
                        <th style="text-align: left;">Name</th>
                        <th style="text-align: right;">In</th>
                        <th style="text-align: right;">Out</th>
                        <th style="text-align: right;">Net</th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="payments" t-as="line">
                        <td style="text-align: left;"><span t-esc="line['name']" /></td>
                        <td style="text-align: right;"><span t-esc="line['in']" /></td>
                        <td style="text-align: right;"><span t-esc="line['out']" /></td>
                        <td style="text-align: right;"><span t-esc="line['net']" /></td>
                    </tr>
                    <tr>
                        <td style="text-align: left; border-top: 1px solid black;">Total</td>
                        <td style="text-align: right; border-top: 1px solid black;"><span
                                t-esc="'%.2f' % payment_total['total_in']" /></td>
                        <td style="text-align: right; border-top: 1px solid black;"><span
                                t-esc="'%.2f' % payment_total['total_out']" /></td>
                        <td style="text-align: right; border-top: 1px solid black;"><span
                                t-esc="'%.2f' % payment_total['total_net']" /></td>
                    </tr>
                </tbody>
            </table>

            <br />
            <h3>Employee Details</h3>
            <table style="width: 100%;">
                <colgroup>
                    <col width="5%" />
                    <col width="20%" />
                    <col width="15%" />
                    <col width="15%" />
                    <col width="15%" />
                    <col width="15%" />
                    <col width="15%" />
                </colgroup>
                <thead>
                    <tr>
                        <th style="text-align: left;">ID</th>
                        <th style="text-align: left;">Name</th>
                        <th style="text-align: right;">Products</th>
                        <th style="text-align: right;">Services</th>
                        <th style="text-align: right;">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="employees" t-as="line">
                        <td style="text-align: left;"><span t-esc="line['id']" /></td>
                        <td style="text-align: left;"><span t-esc="line['name']" /></td>
                        <td style="text-align: right;"><span t-esc="line['products']" /></td>
                        <td style="text-align: right;"><span t-esc="line['services']" /></td>
                        <td style="text-align: right;"><span t-esc="line['total']" /></td>
                    </tr>
                    <tr>
                        <td style="border-top: 1px solid black;"></td>
                        <td style="text-align: left; border-top: 1px solid black;">Total</td>
                        <td style="text-align: right; border-top: 1px solid black;"><span
                                t-esc="'%.2f' % employee_total['products']" /></td>
                        <td style="text-align: right; border-top: 1px solid black;"><span
                                t-esc="'%.2f' % employee_total['services']" /></td>
                        <td style="text-align: right; border-top: 1px solid black;"><span
                                t-esc="'%.2f' % employee_total['total']" /></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </template>


    <template id="summary_report">
        <t t-call="web.html_container">
            <t t-call="spa_management.summary_report_template" />
        </t>
    </template>

</odoo>
