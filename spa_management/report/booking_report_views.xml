<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="booking_report_view_tree" model="ir.ui.view">
        <field name="name">booking.report.tree</field>
        <field name="model">booking.report</field>
        <field name="arch" type="xml">
            <tree create="0" edit="0" delete="0">
                <field name="booking_id" />
                <field name="partner_id" />
                <field name="product_id" />
                <field name="employee_id"/>
                <field name="date" />
                <field name="branch_id" />
                <field name="source" />
                <field name="state" />
            </tree>
        </field>
    </record>

    <record id="booking_report_view_search" model="ir.ui.view">
        <field name="name">booking.report.search</field>
        <field name="model">booking.report</field>
        <field name="arch" type="xml">
            <search>
                <filter name="products" string="Products" domain="[('product_id.type','!=','service')]" />
                <filter name="services" string="Services" domain="[('product_id.type','=','service')]" />
                <separator />
                <filter name="check_in" string="Check In" domain="[('state','=','check_in')]" />
                <filter name="check_out" string="Check Out" domain="[('state','=','confirm')]" />
                <filter name="no_show" string="No Show" domain="[('state','=','no_show')]" />
                <separator />
                <group expand="1" string="Group By">
                    <filter name="booking_gp" string="Booking" context="{'group_by':'booking_id'}" />
                    <filter name="branch_gp" string="Branch" context="{'group_by':'branch_id'}" />
                    <filter name="partner_gp" string="Customer" context="{'group_by':'partner_id'}" />
                    <separator />
                    <filter name="user_gp" string="Beautician" context="{'group_by':'employee_id'}" />
                    <filter name="product_gp" string="Product" context="{'group_by':'product_id'}" />
                    <separator />
                    <filter name="date_gp" string="Date" context="{'group_by':'date'}" />
                </group>
            </search>
        </field>
    </record>

    <record id="booking_report_action" model="ir.actions.act_window">
        <field name="name">Booking Report</field>
        <field name="res_model">booking.report</field>
        <field name="view_mode">tree,pivot</field>
        <field name="view_id"></field>
        <field name="target">current</field>
    </record>

    <menuitem id="booking_report_menu" name="Booking Report" sequence="80" action="booking_report_action"
        parent="spa_report_menu" />

</odoo>
